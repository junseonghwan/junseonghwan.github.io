<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Object oriented programming in R w/ S4</title>
  <meta name="description" content="Introduction to Object Oriented Programming in R">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="junseonghwan.github.io/2017/01/16/object-oriented-programming-in-r-s4.html">
  <link rel="alternate" type="application/rss+xml" title="Seong-Hwan Jun" href="junseonghwan.github.io/feed.xml" />

  

  <script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <!--
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>-->

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Seong-Hwan Jun</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
          <a class="page-link" href="/code/">Code</a>
          
        
          
        
          
        
          
          <a class="page-link" href="/research/">Research</a>
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Object oriented programming in R w/ S4</h1>
    <p class="post-meta">Jan 16, 2017</p>
  </header>

  <article class="post-content">
    <h2 id="introduction-to-object-oriented-programming-in-r">Introduction to Object Oriented Programming in R</h2>

<p>Numbers make up most of the data that we work with. However, there are cases where the random variable of interest take on a discrete structure for example, phylogenetics tree. How can we represent this type of structure in R? We will see one way of doing this in R using object oriented programming.</p>

<p>This post will illustrate four key principles of OOP: <em>encapsulation, abstraction, inheritance, and polymorphism</em>.</p>

<h2 id="phylogenetics-tree">Phylogenetics tree</h2>

<p>There exists a package that allows you to build a tree in R such as <a href="https://cran.r-project.org/web/packages/data.tree/vignettes/data.tree.html"><code class="highlighter-rouge">data.tree</code></a> and <a href="https://cran.r-project.org/web/packages/phylobase/vignettes/phylobase.pdf"><code class="highlighter-rouge">phylo4</code></a>. But we will build our own so that we get to practice with S4 concepts; besides, the existing stuff may not perfectly suit our needs.</p>

<p>Let’s build a simple phylogenetics tree. We want each node of the tree to hold the name of the node (for example, the specie name) and the DNA sequence. Each node of the tree needs to keep track of its children nodes as well. In Java, we would do this via recursive class definition:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">PhyloTreeNode</span>
<span class="o">{</span>
	<span class="c1">// fields:</span>
	<span class="kd">public</span> <span class="n">PhyloTreeNode</span> <span class="n">left</span><span class="o">;</span>
	<span class="kd">public</span> <span class="n">PhyloTreeNode</span> <span class="n">right</span><span class="o">;</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="n">specie</span><span class="o">;</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="n">sequence</span><span class="o">;</span>

	<span class="c1">// constructor</span>
	<span class="kd">public</span> <span class="nf">PhyloTreeNode</span><span class="o">(</span><span class="n">Node</span> <span class="n">l</span><span class="o">,</span> <span class="n">Node</span><span class="o">,</span> <span class="n">r</span><span class="o">,</span> <span class="n">String</span> <span class="n">specie</span><span class="o">,</span> <span class="n">String</span> <span class="n">seq</span><span class="o">)</span> 
	<span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">left</span> <span class="o">=</span> <span class="n">l</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">right</span> <span class="o">=</span> <span class="n">r</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">specie</span> <span class="o">=</span> <span class="n">specie</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">sequence</span> <span class="o">=</span> <span class="n">seq</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="c1">// getter and setter and other methods go here</span>
<span class="o">}</span>
</code></pre>
</div>

<h1 id="defining-a-class">Defining a class</h1>

<p>Now, let’s see how we can do this in R. Declaring class  via <code class="highlighter-rouge">setClass(...)</code> method and instantiate an object using <code class="highlighter-rouge">new(...)</code>:</p>

<div class="language-R highlighter-rouge"><pre class="highlight"><code><span class="n">setClass</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">)</span><span class="w">
</span><span class="n">root</span><span class="o">&lt;-</span><span class="n">new</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>Currently, our class <code class="highlighter-rouge">PhyloTreeNode</code> doe snot have any field and does not offer any behavior. In R, the fields are referred to as <em>slots</em>. We will create slots <code class="highlighter-rouge">specie</code> and <code class="highlighter-rouge">sequence</code> as primitive type <code class="highlighter-rouge">character</code>. You can specify the values for these slots when you instantiate an object:</p>

<div class="language-R highlighter-rouge"><pre class="highlight"><code><span class="n">setClass</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">slots</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="n">specie</span><span class="o">=</span><span class="s2">"character"</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="o">=</span><span class="s2">"character"</span><span class="p">))</span><span class="w">
</span><span class="n">root</span><span class="o">&lt;-</span><span class="n">new</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">specie</span><span class="o">=</span><span class="s2">"homo sapiens"</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="o">=</span><span class="s2">"AACCGGTT"</span><span class="p">)</span><span class="w">
</span><span class="n">root</span><span class="w">
</span></code></pre>
</div>

<p>Now, we need to add the slots to keep track of the children nodes. Unfortunately, it does not seem like we can do this using recursive definition:</p>

<div class="language-R highlighter-rouge"><pre class="highlight"><code><span class="n">removeClass</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">)</span><span class="w"> </span><span class="c1"># first remove the class definition from your environment
</span><span class="n">setClass</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">slots</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="n">specie</span><span class="o">=</span><span class="s2">"character"</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="o">=</span><span class="s2">"character"</span><span class="p">,</span><span class="w"> </span><span class="n">left</span><span class="o">=</span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="o">=</span><span class="s2">"PhyloTreeNode"</span><span class="p">))</span><span class="w">
</span><span class="c1">#Warning message:
#undefined slot classes in definition of "PhyloTreeNode": left(class "PhyloTreeNode"), right(class "PhyloTreeNode") 
</span><span class="w">
</span><span class="n">root</span><span class="o">&lt;-</span><span class="n">new</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">specie</span><span class="o">=</span><span class="s2">"homo sapiens"</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="o">=</span><span class="s2">"AACCGGTT"</span><span class="p">)</span><span class="w">
</span><span class="c1">#Error in validObject(.Object) : 
#  invalid class “PhyloTreeNode” object: 1: invalid object for slot "left" in class "PhyloTreeNode": got class "NULL", should be or extend class "PhyloTreeNode"
# invalid class “PhyloTreeNode” object: 2: invalid object for slot "right" in class "PhyloTreeNode": got class "NULL", should be or extend class "PhyloTreeNode"
</span></code></pre>
</div>

<p>We will adopt a simple work around: represent the children as a <code class="highlighter-rouge">list</code>:</p>

<div class="language-R highlighter-rouge"><pre class="highlight"><code><span class="n">setClass</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">slots</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="n">specie</span><span class="o">=</span><span class="s2">"character"</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="o">=</span><span class="s2">"character"</span><span class="p">,</span><span class="w"> </span><span class="n">children</span><span class="o">=</span><span class="s2">"list"</span><span class="p">))</span><span class="w">
</span><span class="n">human</span><span class="o">&lt;-</span><span class="n">new</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">specie</span><span class="o">=</span><span class="s2">"homo sapiens"</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="o">=</span><span class="s2">"AACCGGTT"</span><span class="p">)</span><span class="w">
</span><span class="n">human</span><span class="o">@</span><span class="n">children</span><span class="w">
</span></code></pre>
</div>

<p>Now, let’s create some additional nodes and build a simple tree with three nodes, root, and two children (leaf) nodes. We will first do it in a <strong>bad</strong> way:</p>

<div class="language-R highlighter-rouge"><pre class="highlight"><code><span class="n">neanderthal</span><span class="o">&lt;-</span><span class="n">new</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">specie</span><span class="o">=</span><span class="s2">"homo neanderthalensis"</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="o">=</span><span class="s2">"AACCGGGT"</span><span class="p">)</span><span class="w">
</span><span class="n">australopithecus</span><span class="o">&lt;-</span><span class="n">new</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">specie</span><span class="o">=</span><span class="s2">"australopithecus"</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="o">=</span><span class="s2">"ACACGGGT"</span><span class="p">)</span><span class="w">

</span><span class="n">australopithecus</span><span class="o">@</span><span class="n">children</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="o">&lt;-</span><span class="n">human</span><span class="w">
</span><span class="n">australopithecus</span><span class="o">@</span><span class="n">children</span><span class="p">[[</span><span class="m">2</span><span class="p">]]</span><span class="o">&lt;-</span><span class="n">australopithecus</span><span class="o">@</span><span class="n">children</span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="o">&lt;-</span><span class="n">human</span><span class="w">
</span><span class="n">australopithecus</span><span class="o">@</span><span class="n">children</span><span class="w">
</span></code></pre>
</div>

<p>This way of directly adding the children nodes works… but it breaks an important OOP principle: encapsulation.  However, it does not seem possible in R to fully implement encapsulation because unlike in Java, keywords such as private, public, protected, etc are not offered in R. So the fields cannot be hidden away from the users. There isn’t a perfect solution, but what we can do is to provide methods (functions) for adding children nodes. We will illustrate another important OOP principle, abstraction.</p>

<h1 id="defining-methods-for-classes">Defining methods for classes</h1>

<p>The first thing we need to do is to declare the function name and reserve the name:</p>

<div class="language-R highlighter-rouge"><pre class="highlight"><code><span class="n">setGeneric</span><span class="p">(</span><span class="s2">"addChild"</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nf">standardGeneric</span><span class="p">(</span><span class="s2">"addChild"</span><span class="p">)</span><span class="w">
</span><span class="p">})</span><span class="w">
</span></code></pre>
</div>

<p>Now, we provide the method body for our class <code class="highlighter-rouge">PhyloTreeNode</code>:</p>

<div class="language-R highlighter-rouge"><pre class="highlight"><code><span class="n">setMethod</span><span class="p">(</span><span class="s2">"addChild"</span><span class="p">,</span><span class="w"> </span><span class="n">signature</span><span class="p">(</span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PhyloTreeNode"</span><span class="p">),</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">node</span><span class="o">@</span><span class="n">children</span><span class="p">[[</span><span class="nf">length</span><span class="p">(</span><span class="n">node</span><span class="o">@</span><span class="n">children</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="p">]]</span><span class="o">&lt;-</span><span class="n">child</span><span class="w">
  </span><span class="n">node</span><span class="w">
</span><span class="p">})</span><span class="w">

</span><span class="n">showMethods</span><span class="p">(</span><span class="s2">"addChild"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>Note that <code class="highlighter-rouge">showMethods("addChild")</code> displays signature of the methods that implement <code class="highlighter-rouge">addChild</code>. For example, if I were to define another class, <code class="highlighter-rouge">BogusClass</code> I can provide a definition of <code class="highlighter-rouge">addChild</code> for that class and <code class="highlighter-rouge">showMethods("addChild")</code> will show the signature for the <code class="highlighter-rouge">addChild</code> method defined for <code class="highlighter-rouge">BogusClass</code>:</p>

<div class="language-R highlighter-rouge"><pre class="highlight"><code><span class="n">setClass</span><span class="p">(</span><span class="s2">"BogusClass"</span><span class="p">)</span><span class="w">
</span><span class="n">setMethod</span><span class="p">(</span><span class="s2">"addChild"</span><span class="p">,</span><span class="w"> </span><span class="n">signature</span><span class="p">(</span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"BogusClass"</span><span class="p">),</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">print</span><span class="p">(</span><span class="s2">"Bogus"</span><span class="p">)</span><span class="w">
</span><span class="p">})</span><span class="w">
</span><span class="n">showMethods</span><span class="p">(</span><span class="s2">"addChild"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>Now, let’s add some nodes using <code class="highlighter-rouge">addChild(...)</code>:</p>

<div class="language-R highlighter-rouge"><pre class="highlight"><code><span class="n">watson</span><span class="o">&lt;-</span><span class="n">new</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">specie</span><span class="o">=</span><span class="s2">"ibm"</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="o">=</span><span class="s2">"AAAAAAAA"</span><span class="p">)</span><span class="w">
</span><span class="n">alphago</span><span class="o">&lt;-</span><span class="n">new</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">specie</span><span class="o">=</span><span class="s2">"deep mind"</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="o">=</span><span class="s2">"CCCCCCCC"</span><span class="p">)</span><span class="w">
</span><span class="n">human</span><span class="o">&lt;-</span><span class="n">addChild</span><span class="p">(</span><span class="n">human</span><span class="p">,</span><span class="w"> </span><span class="n">watson</span><span class="p">)</span><span class="w">
</span><span class="n">human</span><span class="o">&lt;-</span><span class="n">addChild</span><span class="p">(</span><span class="n">human</span><span class="p">,</span><span class="w"> </span><span class="n">alphago</span><span class="p">)</span><span class="w">
</span><span class="n">human</span><span class="o">@</span><span class="n">children</span><span class="w">
</span></code></pre>
</div>

<h3 id="why-are-encapsulation-and-abstraction-good-practice">Why are encapsulation and abstraction good practice?</h3>

<p>Imagine if you have modified the children slot directly to add children nodes. Say you have 1 million lines of such code. Now, say you decided to declare children slot as a data frame. This means that you will have to modify all 1 million lines of your code. With abstraction and encapsulation, it hides the details of your class implementation away so as long as your method signature remains unchanged, the users can continue to use your function even if you change the underlying representation of the slots. Or, imagine if you wanted to enforce the strict condition that each node to contain at most two children. All you have to do is modify your <code class="highlighter-rouge">addChild</code> method:</p>

<div class="language-R highlighter-rouge"><pre class="highlight"><code><span class="n">setMethod</span><span class="p">(</span><span class="s2">"addChild"</span><span class="p">,</span><span class="w"> </span><span class="n">signature</span><span class="p">(</span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PhyloTreeNode"</span><span class="p">),</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">node</span><span class="o">@</span><span class="n">children</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  		</span><span class="n">node</span><span class="o">@</span><span class="n">children</span><span class="p">[[</span><span class="nf">length</span><span class="p">(</span><span class="n">node</span><span class="o">@</span><span class="n">children</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="p">]]</span><span class="o">&lt;-</span><span class="n">child</span><span class="w">
  		</span><span class="n">node</span><span class="w">
	</span><span class="p">}</span><span class="w">
	</span><span class="n">print</span><span class="p">(</span><span class="s2">"Unable to add child node: this node already has 2 children."</span><span class="p">)</span><span class="w">
	</span><span class="n">node</span><span class="w">
</span><span class="p">})</span><span class="w">

</span><span class="n">siri</span><span class="o">&lt;-</span><span class="n">new</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">specie</span><span class="o">=</span><span class="s2">"apple"</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="o">=</span><span class="s2">"AAAAAAAA"</span><span class="p">)</span><span class="w">
</span><span class="n">human</span><span class="o">&lt;-</span><span class="n">addChild</span><span class="p">(</span><span class="n">human</span><span class="p">,</span><span class="w"> </span><span class="n">siri</span><span class="p">)</span><span class="w">
</span><span class="c1"># [1] "Unable to add child node: this node already has 2 children."
</span></code></pre>
</div>

<p>So it’s easier to maintain your code and less chance for bug to creep in. If something doesn’t work, you can debug your function to spot the bug rather than having to go over your script line by line.</p>

<h1 id="other-features-of-s4">Other features of S4</h1>

<p>Depending on your needs, you may want to provide default values for the slots:</p>

<div class="language-R highlighter-rouge"><pre class="highlight"><code><span class="n">setClass</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">,</span><span class="w"> </span><span class="n">slots</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="n">specie</span><span class="o">=</span><span class="s2">"character"</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="o">=</span><span class="s2">"character"</span><span class="p">),</span><span class="w"> </span><span class="n">prototype</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">specie</span><span class="o">=</span><span class="s2">"test_specie"</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="o">=</span><span class="s2">"ACGT"</span><span class="p">))</span><span class="w">
</span><span class="n">root</span><span class="o">&lt;-</span><span class="n">new</span><span class="p">(</span><span class="s2">"PhyloTreeNode"</span><span class="p">)</span><span class="w">
</span><span class="n">print</span><span class="p">(</span><span class="n">root</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>Validation using <code class="highlighter-rouge">validity</code>.</p>

<p>Using <a href="http://stackoverflow.com/questions/7466388/how-to-set-default-value-of-a-slot-as-null-in-r"><code class="highlighter-rouge">setClassUnion</code></a>?</p>

<h1 id="exercise-metropolis-hastings-with-oop">Exercise: Metropolis-Hastings with OOP</h1>

<p>Now, let’s do some statistics. Suppose we want to write a generic Metropolis-Hastings algorithm that can work on any state space. How can OOP be of use in this case? We will illustrate inheritance and polymorphism as we implement generic MH algorithm in R.</p>

<p><strong>The solution to come in the next post :)</strong></p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

<!--    <h2 class="footer-heading">Seong-Hwan Jun</h2> -->

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-3">
        <ul class="contact-list">
          <li>Address:</li>
          <li>Seong-Hwan Jun</li>
          <li>Department of Statistics,</li> 
          <li>University of British Columbia,</li>
          <li>3182 Earth Sciences Building,</li>
          <li>2207 Main Mall,</li>
          <li>Vancouver, BC, Canada V6T 1Z4</li>
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <ul class="social-media-list">
          <li>Email: seong dot jun AT stat dot ubc dot ca</li>

          
          <li>
            <a href="https://github.com/junseonghwan">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">junseonghwan</span>
            </a>
          </li>
          

          
        </ul>
      </div>
<!--
      <div class="footer-col  footer-col-3">
        <p class="text"></p>
      </div>
    </div>
-->
  </div>

</footer>


  </body>

</html>
